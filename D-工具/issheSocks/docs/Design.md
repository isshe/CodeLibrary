
# 总体结构1
```
                           (B)----------------------------------------------------+
    (A)-----------+        | +--------------------+       +---------------------+ |
    | User Client |  <---> | | isshe_proxy server | <---> | isshe tunnel client | |
    +-------------+        | +--------------------+       +---------------------+ |
                           +----------------------------------------↑-------------+
                                                                    |
                                                                    |
                           (C)--------------------------------------↓-------------+
  (D)-------------+        | +--------------------+       +---------------------+ |
  | Public Server |  <---> | | isshe_proxy client | <---> | isshe tunnel server | |
  +---------------+        | +--------------------+       +---------------------+ |
                           +------------------------------------------------------+
```
* A: 用户主机上的socks5客户端。通过socks5连接到服务器
* B：用户主机上的代理服务器+隧道客户端。
* C：外部主机上的隧道服务器+代理客户端(代理用户的请求)。
* D：外部的公共服务器

# 总体设计2
socks解析器：解析socks5请求
tunnel客户端：发送隧道数据
tunnel服务器：接收隧道数据
proxy服务器：负责代理请求
加密器：
解密器：
```
+------------+      +-------------+      +-------------+      +----------+
| socks解析器 | ---> | tunnel客户端 | ---> | tunnel服务器 | ---> | 代理服务器 |
+------------+      +-------------+      +-------------+      +----------+

```

# 疑问
* DNS是否需要代理？
